# **Stock Price Prediction and Analysis Repository**

## **Overview**
This repository contains the code, data, and documentation for a comprehensive stock price prediction and analysis project. The project involves data collection, preprocessing, feature engineering, and the development of an LSTM model for stock price prediction. It also includes exploratory data analysis (EDA) and correlation analysis to identify suitable stocks for modeling.

---

## **Repository Structure**

### **Files and Folders**
- **`imgs/`**: Folder containing images generated by the Jupyter notebooks.
- **`create_stocks_db_tables.sql`**: SQL script to create and populate the `stocks.db` database.
- **`dataguess_case_study_model_training.ipynb`**: Jupyter notebook for training the LSTM model and performing feature engineering using data from `stocks.db`.
- **`dataguess_case_study_stock_selection.ipynb`**: Jupyter notebook for selecting stocks based on correlation analysis and sector distributions.
- **`dataguess-case-study-report.pdf`**: Detailed report explaining the methodology, results, and conclusions of the project.
- **`dataguess-case-study-service.json`**: Placeholder credentials file for Google Sheets API (replace with your own credentials).
- **`hisse_endeks_ds.xlsx`**: Excel file containing stock and index data sourced from `kap.org.tr` and `borsaistanbul.com`.

---

## **Getting Started**

### **Prerequisites**
1. **Python Environment**: Ensure you have Python 3.8 or higher installed.
2. **Libraries**: Install the required Python libraries using the following command:
   ```bash
   pip install pandas numpy matplotlib seaborn tensorflow scikit-learn gspread ta sqlite3
   ```
3. **Google Sheets API**: Replace the `dataguess-case-study-service.json` file with your own Google Sheets API credentials.

### **Setup**
1. **Clone the Repository**:
   ```bash
   git clone https://github.com/your-username/stock-price-prediction.git
   cd stock-price-prediction
   ```
2. **Create the Database**:
   - Run the `create_stocks_db_tables.sql` script to create and populate the `stocks.db` database:
     ```bash
     sqlite3 stocks.db < create_stocks_db_tables.sql
     ```
3. **Run the Jupyter Notebooks**:
   - Open `dataguess_case_study_stock_selection.ipynb` to perform stock selection and correlation analysis.
   - Open `dataguess_case_study_model_training.ipynb` to train the LSTM model and perform feature engineering.

---

## **Project Workflow**

### **1. Stock Selection and Correlation Analysis**
- **Notebook**: `dataguess_case_study_stock_selection.ipynb`
- **Input**: `hisse_endeks_ds.xlsx`
- **Output**: Selected stocks stored in `stocks.db`.
- **Steps**:
  1. Load stock and index data from `hisse_endeks_ds.xlsx`.
  2. Filter stocks based on sector and trading history.
  3. Perform correlation analysis to identify highly correlated stocks.
  4. Visualize sector distributions and trading ranges.

### **2. LSTM Model Training**
- **Notebook**: `dataguess_case_study_model_training.ipynb`
- **Input**: `stocks.db`
- **Output**: Trained LSTM model and evaluation results.
- **Steps**:
  1. Load stock price data from `stocks.db`.
  2. Perform feature engineering (e.g., RSI, OBV, SMA, Bollinger Bands).
  3. Preprocess data for LSTM training.
  4. Train the LSTM model to predict the next day's closing price.
  5. Evaluate the model using metrics such as RMSE and MAE.

---

## **Results**
- **Stock Selection**: Stocks were selected based on sector distributions and correlation analysis.
- **Model Performance**: The LSTM model achieved [insert performance metrics here] on the validation set.
- **Visualizations**: Sector distributions, trading ranges, and correlation plots are available in the `imgs/` folder.

---

## **Report**
For a detailed explanation of the methodology, results, and conclusions, refer to the `dataguess-case-study-report.pdf` file.

---

## **Contributing**
Contributions to this project are welcome! If you have suggestions or improvements, please open an issue or submit a pull request.

---

## **License**
This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.

---

## **Acknowledgments**
- Data sourced from `kap.org.tr` and `borsaistanbul.com`.
- Libraries used: `pandas`, `numpy`, `matplotlib`, `seaborn`, `tensorflow`, `scikit-learn`, `gspread`, `ta`, and `sqlite3`.

---

## **Contact**
For questions or feedback, please contact [Deniz GÃ–KDUMAN](mailto:o.deniz.gokduman+github@gmail.com).
